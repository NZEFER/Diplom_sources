CREATE TABLE GOODS (
    ID_GOODS CHAR(10) NOT NULL,
    NOMENCLATURE CHAR(20),
    MEASURE CHAR(10),
    CONSTRAINT PK_GOODS PRIMARY KEY (ID_GOODS)
);

CREATE TABLE WAREHOUSE (
    ID_WH CHAR(10) NOT NULL,
    NAME CHAR(20),
    TOWN CHAR(20),
    CONSTRAINT PK_WAREHOUSE PRIMARY KEY (ID_WH)
);

CREATE TABLE AGENT (
    ID_AG CHAR(10) NOT NULL,
    NAME_AG CHAR(20),
    TOWN CHAR(20),
    PHONE CHAR(10),
    CONSTRAINT PK_AGENT PRIMARY KEY (ID_AG)
);

CREATE TABLE GOODS_WH (
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    ID_WH CHAR(10),
    ID_GOODS CHAR(10),
    QUANTITY NUMERIC(15,2),
    FOREIGN KEY (ID_WH) REFERENCES WAREHOUSE(ID_WH),
    FOREIGN KEY (ID_GOODS) REFERENCES GOODS(ID_GOODS)
);

CREATE TABLE OPERATION (
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    ID_GOODS CHAR(10),
    ID_AG CHAR(10),
    ID_WH CHAR(10),
    TYPEOP CHAR(1),
    QUANTITY NUMERIC(15,2),
    PRICE NUMERIC(15,2),
    OP_DATE DATE,
    FOREIGN KEY (ID_GOODS) REFERENCES GOODS(ID_GOODS),
    FOREIGN KEY (ID_AG) REFERENCES AGENT(ID_AG),
    FOREIGN KEY (ID_WH) REFERENCES WAREHOUSE(ID_WH)
);
